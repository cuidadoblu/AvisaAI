<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AvisaAí - Cabeçalho Admin</title>
    <link rel="stylesheet" href="cabecalho.css">
</head>

<body>
    <!-- Fundo para sobrepor a tela -->
    <div id="fundo" class="fundo"></div>

    <!-- Barra lateral -->
    <div id="barra-lateral" class="barra-lateral">
        <div class="cabecalho-barra-lateral">
            <h2>Menu</h2>
        </div>
        <ul>
            <li><a href="#">Início</a></li>
            <li><a href="#">Comunidades</a></li>
            <li><a href="#">Perfil</a></li>
            <li><a href="#">Configurações</a></li>
            <li><a href="#">Sair</a></li>
        </ul>
    </div>

    <!-- Cabeçalho -->
    <header class="navbar">
        <!-- Seção de menu e logo -->
        <div class="menu-e-logo">
            <!-- Botão do menu -->
            <a href="javascript:void(0)" onclick="alternarBarraLateral()"> 
                <img src="icon" alt="menu" class="menu">
            </a>
            <!-- Logo com link para a página inicial -->
            <a href=""> 
                <img src="logo.png" alt="Logo" class="logo">
            </a>
        </div>
        
        <!-- Barra de consulta -->
        <div class="barra-consulta">
            <div class="container-consulta">
                <!-- Formulário para consulta -->
                <form action="consulta" method="GET">
                    <input type="text" name="consulta" id="consultaInput" class="input-consulta" placeholder="Consultar" oninput="realizarConsulta()">
                    <button type="submit">Enviar</button>
                </form>
                <!-- Resultados suspensos -->
                <div id="resultadoConsulta" class="resultado-consulta"></div>
            </div>
        </div>

        <!-- Ícones do cabeçalho -->
        <div class="icones-cabecalho">
            <a href="" class="botao-incidente">
                <img src="" alt="Cadastrar Localidade">
                Localidade
            </a>
            <a href="" class="botao-comunidade">
                <img src="" alt="Cadastrar Comunidade">
                Comunidade
            </a>
            <a href="" class="botao-incidente">
                <img src="" alt="Cadastrar Incidente">
                Cadastrar Incidente
            </a>
            <a href="" class="botao-feed">
                <img src="" alt="Feed">
                Feed
            </a>
            <a href="" class="botao-acompanhados">
                <img src="" alt="Notificações">
            </a>
            <a href="" class="botao-perfil">
                <img src="" alt="Perfil">
            </a>
        </div>
    </header>

    <script>
        // Função para alternar a barra lateral
        function alternarBarraLateral() {
            var barraLateral = document.getElementById('barra-lateral');
            var fundo = document.getElementById('fundo');
            
            if (barraLateral.classList.contains('abrir')) {
                barraLateral.classList.remove('abrir');
                fundo.classList.remove('ativo');
            } else {
                barraLateral.classList.add('abrir');
                fundo.classList.add('ativo');
            }
        }

        // Função para fechar a barra lateral ao clicar fora
        document.getElementById('fundo').addEventListener('click', function () {
            document.getElementById('barra-lateral').classList.remove('abrir');
            document.getElementById('fundo').classList.remove('ativo');
        });

        // Função para realizar a consulta e exibir a lista suspensa
        function realizarConsulta() {
            const consulta = document.getElementById('consultaInput').value.toLowerCase();
            const resultadoDiv = document.getElementById('resultadoConsulta');

            if (consulta === '') {
                resultadoDiv.style.display = 'none'; // Esconde a lista suspensa se a consulta estiver vazia
                return;
            }

            // Lógica de consulta (simulada)
            // Adicione sua lógica aqui para consultar os dados do backend ou API.
        }

        // Esconde a lista suspensa ao clicar fora dela
        document.addEventListener('click', function (event) {
            const resultadoDiv = document.getElementById('resultadoConsulta');
            const consultaInput = document.getElementById('consultaInput');
            if (!resultadoDiv.contains(event.target) && !consultaInput.contains(event.target)) {
                resultadoDiv.style.display = 'none';
            }
        });
    </script>

</body>

</html>